<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:t="http://tapestry.apache.org/schema/tapestry_5_3.xsd"
      xmlns:p="tapestry:parameter" >
<t:content>
    <t:if test="examMode">
        <t:delegate to="block:freeForm"/>
        <p:else>
            <div class="col-sm-6 col-sm-offset-2">
                ${message:noPredefinedAnswers}
            </div>
        </p:else>
    </t:if>

    <t:block id="freeForm">
        <t:form t:id="questionFreeForm" validate="questionResult" class="form-horizontal"> <!--async="true"-->
            <t:loop source="resultFree.files" value="attachedFile">
                <div class="form-group">
                    <div class="col-sm-6 col-sm-offset-4">
                        ${attachedFile.sourceName}
                    </div>
                    <div class="col-sm-2 text-center">
                        <t:eventlink event="deleteAnswer" context="attachedFile" class="btn btn-default">
                            <span class="glyphicon glyphicon-remove" aria-hidden="true"/>
                        </t:eventlink>
                    </div>
                </div>

            </t:loop>

            <div class="form-group">
                <t:label for="answerFile" class="col-sm-4"/>
                <div class="col-sm-6">
                    <t:upload t:id="answerFile" value="answerFile"/>
                </div>
                <div class="col-sm-2 text-center">
                    <t:linksubmit t:id="attachFile" mixins="ClickOnce">
                        <span class="glyphicon glyphicon-plus-sign" aria-hidden="true"/>
                    </t:linksubmit>
                </div>

            </div>
            <div class="form-group">
                <div class="col-sm-4 col-sm-offset-4">
                    <t:submit value="message:save" class="btn btn-primary" mixins="ClickOnce"/>
                </div>
            </div>

        </t:form>
    </t:block>
</t:content>
</html>